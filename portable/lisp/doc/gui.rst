Графический пользовательский интерфейс
======================================

Концептуальная модель
---------------------

Функция screen задаёт пользовательский интерфейс. Её параметры - список объектов верхнего уровня. Такими объектами могут быть только окна.

Объекты интерфейса задаются через функции, которые создают эти объекты и задают параметры. Виды объектов:

* окно (window);
* блочный элемент (block);
* текст (text);
* поле ввода (edit);
* кнопка (button).

Атрибуты объектов:

:inner-text: Для поля ввода - введённый текст, для остальных объектов - текст внутри компонента.
:title: Заголовок окна.
:width: Ширина объекта, если задана как parent, то ширина берется у родительского элемента.
:height: Высота объекта.
:color: Цвет текста (задаётся по умолчанию для разных типов объектов).
:back-color: Цвет фона (задаётся по умолчанию для разных типов объектов).
:active-color: Цвет фона для активного элемента (задаётся по умолчанию для разных типов объектов).
:children: Список дочерних объектов.
:alignment: Выравнивание объекта (виды выравнивания: left, center, right).
:click: Обработчик нажатия enter для кнопки.

Ширина и высота всех объектов вычисляется автоматически. Размеры окна и блочного элемента определяются размерами дочерних элементов. Для остальных элементов размеры определяются полем text. Для кнопки ширина будет больше текста на заданное по умолчанию расстояние. Если ширина и высота были заданы, то они фиксируются.

Элементы размещаются по горизонтали, только блочные - по вертикали.

В текущий момент времени активен только один элемент.

Пример:
::

   (screen
       (window "Test" (id 'main-window)
	   (children
	       (text "login:")
	       (edit (width 10))
	       (block (width 'parent)
	           (button "OK"
		       (alignment 'center)
		       (click
		           (close (get-object-by-id 'main-window))))))))

Реализация
----------

Список окон хранится в глобальной переменной \*window-list\*. Окна это экземпляры класса window. Все остальные элементы являются дочерними для окон.

Базовый класс для всех элементов - element. В нем хранятся свойства: 
